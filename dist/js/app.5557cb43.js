(function(e){function n(n){for(var a,o,c=n[0],d=n[1],s=n[2],i=0,f=[];i<c.length;i++)o=c[i],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a]);h&&h(n);while(f.length)f.shift()();return u.push.apply(u,s||[]),t()}function t(){for(var e,n=0;n<u.length;n++){for(var t=u[n],a=!0,o=1;o<t.length;o++){var c=t[o];0!==r[c]&&(a=!1)}a&&(u.splice(n--,1),e=d(d.s=t[0]))}return e}var a={},o={app:0},r={app:0},u=[];function c(e){return d.p+"js/"+({}[e]||e)+"."+{"chunk-031f5718":"d74b9bbb","chunk-0c1d3d1f":"fbdd0eba","chunk-1765a0d6":"ea2db830","chunk-26a10e75":"dcdbd33c","chunk-2d0daf06":"558bf08c","chunk-2d0e28d4":"88b0a303","chunk-31edd3c2":"3814419a","chunk-3f247555":"dc4f1665","chunk-7a163d7f":"03461a15","chunk-d513298e":"6b05b7c6","chunk-d8a61a3a":"d42216a6","chunk-fc6d1168":"943b9774","chunk-7e7d8b9f":"aedf8fb0","chunk-2d0ba30c":"485932e1","chunk-5ad4de5d":"c650e610","chunk-8620fe80":"cd5609e4","chunk-d39fc872":"18923605"}[e]+".js"}function d(n){if(a[n])return a[n].exports;var t=a[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,d),t.l=!0,t.exports}d.e=function(e){var n=[],t={"chunk-031f5718":1,"chunk-1765a0d6":1,"chunk-26a10e75":1,"chunk-7a163d7f":1,"chunk-d513298e":1,"chunk-d8a61a3a":1,"chunk-8620fe80":1,"chunk-d39fc872":1};o[e]?n.push(o[e]):0!==o[e]&&t[e]&&n.push(o[e]=new Promise((function(n,t){for(var a="css/"+({}[e]||e)+"."+{"chunk-031f5718":"448991ae","chunk-0c1d3d1f":"31d6cfe0","chunk-1765a0d6":"5c9c6a0d","chunk-26a10e75":"7ab96d41","chunk-2d0daf06":"31d6cfe0","chunk-2d0e28d4":"31d6cfe0","chunk-31edd3c2":"31d6cfe0","chunk-3f247555":"31d6cfe0","chunk-7a163d7f":"7a1871d6","chunk-d513298e":"010aa5f4","chunk-d8a61a3a":"a46619d7","chunk-fc6d1168":"31d6cfe0","chunk-7e7d8b9f":"31d6cfe0","chunk-2d0ba30c":"31d6cfe0","chunk-5ad4de5d":"31d6cfe0","chunk-8620fe80":"bf00abcd","chunk-d39fc872":"f75a8690"}[e]+".css",r=d.p+a,u=document.getElementsByTagName("link"),c=0;c<u.length;c++){var s=u[c],i=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(i===a||i===r))return n()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++){s=f[c],i=s.getAttribute("data-href");if(i===a||i===r)return n()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=n,h.onerror=function(n){var a=n&&n.target&&n.target.src||r,u=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=a,delete o[e],h.parentNode.removeChild(h),t(u)},h.href=r;var l=document.getElementsByTagName("head")[0];l.appendChild(h)})).then((function(){o[e]=0})));var a=r[e];if(0!==a)if(a)n.push(a[2]);else{var u=new Promise((function(n,t){a=r[e]=[n,t]}));n.push(a[2]=u);var s,i=document.createElement("script");i.charset="utf-8",i.timeout=120,d.nc&&i.setAttribute("nonce",d.nc),i.src=c(e);var f=new Error;s=function(n){i.onerror=i.onload=null,clearTimeout(h);var t=r[e];if(0!==t){if(t){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;f.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",f.name="ChunkLoadError",f.type=a,f.request=o,t[1](f)}r[e]=void 0}};var h=setTimeout((function(){s({type:"timeout",target:i})}),12e4);i.onerror=i.onload=s,document.head.appendChild(i)}return Promise.all(n)},d.m=e,d.c=a,d.d=function(e,n,t){d.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},d.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,n){if(1&n&&(e=d(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(d.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)d.d(t,a,function(n){return e[n]}.bind(null,a));return t},d.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return d.d(n,"a",n),n},d.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},d.p="/",d.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=n,s=s.slice();for(var f=0;f<s.length;f++)n(s[f]);var h=i;u.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"034f":function(e,n,t){"use strict";var a=t("85ec"),o=t.n(a);o.a},"55e3":function(e,n,t){},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var a=t("2b0e"),o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},r=[],u=(t("034f"),t("2877")),c={},d=Object(u["a"])(c,o,r,!1,null,null,null),s=d.exports,i=(t("d3b7"),t("8c4f"));a["default"].use(i["a"]);var f=new i["a"]({routes:[{path:"/",redirect:"/index"},{path:"/login",component:function(){return Promise.all([t.e("chunk-3f247555"),t.e("chunk-d8a61a3a")]).then(t.bind(null,"1954"))},meta:{title:"登陆"}},{path:"/404",component:function(){return t.e("chunk-d39fc872").then(t.bind(null,"3a1b"))}},{path:"/403",component:function(){return t.e("chunk-1765a0d6").then(t.bind(null,"e389"))}}],mode:"history"}),h=i["a"].prototype.push;i["a"].prototype.push=function(e){return h.call(this,e).catch((function(e){return e}))},f.beforeEach((function(e,n,t){var a=sessionStorage.getItem("token");a?t():"/login"!==e.path?t("/login"):t()}));var l=f,m=(t("db4d"),{state:{user:{}},getters:{user:function(e){return e.user}},mutations:{add_User:function(e,n){e.user=n}}}),p=m,k={state:{menuList:[]},getters:{menuList:function(e){return e.menuList}},mutations:{add_Menus:function(e,n){n&&(e.menuList=n)}},actions:{add_Menus:function(e,n){var t=e.commit;t("add_Menus",n)}}},v=k;t("99af");function b(e,n,t){return g(e,n,t)}function g(e,n,a){var o="/"+e,r={name:e,path:o,component:function(){return t("ce68")("./"+a+o)},meta:{title:n}};return r.component}var w=function(e,n,t){y(e,n,t)};function y(e,n,t){if(t)for(var a=0;a<t.length;a++){var o=t[a],r=o.index,u={name:r,path:"/"+r,component:b(r,o.title,o.vueSuperior),meta:{title:o.title},children:[]};r&&""!=r&&("0"==o.isShow?n.push(u):e.push(u))}}var _={state:{rootRoute:[],routeParam:[]},getters:{rootRoute:function(e){return e.rootRoute}},mutations:{add_Routes:function(e,n){var a=[];a.push({name:"index",path:"/index",component:function(){return t.e("chunk-2d0daf06").then(t.bind(null,"6e78"))},meta:{title:"系统首页"}});var o=[];w(a,o,n);var r=[{path:"/",component:function(){return Promise.all([t.e("chunk-3f247555"),t.e("chunk-7a163d7f")]).then(t.bind(null,"bfe9"))},meta:{title:"home"},children:a}];o&&o.length>0&&(r=r.concat(o)),e.routeParam=n,e.rootRoute=r,l.addRoutes(r)},add_Routes_Fresh:function(e){this.commit("add_Routes",e.routeParam)}},actions:{add_Routes:function(e,n){var t=e.commit;t("add_Routes",n)},add_Routes_Fresh:function(e){var n=e.commit;n("add_Routes_Fresh")}}},S=_,P=(t("7db0"),t("5c96")),L=t.n(P),T={state:{role:{}},getters:{role:function(e){return e.role},getRole:function(e){return function(n,t){console.log(n,t);var a=e.role.find((function(e){return e.req===t&&e.index===n}));console.log("呵呵",a);var o=void 0===a;return console.log(o),o&&P["Message"].error("无相关权限"),o}}},mutations:{add_Roles:function(e,n){e.role=n}}},R=T,j={user:p,menu:v,route:S,role:R},O=t("bfa9"),x=t("2f62");a["default"].use(x["a"]);var E=new O["a"]({storage:window.sessionStorage}),U=new x["a"].Store({modules:j,plugins:[E.plugin]}),C=function(){U.dispatch("add_Routes_Fresh")};sessionStorage.getItem("token")&&C();var F=U,I=(t("4160"),t("3ca3"),t("159b"),t("ddb0"),t("2b3d"),t("bc3a")),M=t.n(I),A=t("4328"),N=t.n(A),D="http://localhost:8078/";function H(){return M.a.create({baseURL:M.a.defaults.baseURL,timeout:3e5,headers:{"Content-Type":"application/json",token:window.sessionStorage.getItem("refreshToken")}}).post("login/refreshToken",{refreshToken:window.sessionStorage.getItem("refreshToken")}).then((function(e){return e.data}))}M.a.defaults.baseURL=D,M.a.defaults.timeout=1e4,M.a.interceptors.request.use((function(e){if("GET"===e.method.toLocaleUpperCase())for(var n in e.params)if(e.params[n]instanceof Array){var t=new URLSearchParams;for(var a in e.params)t.append(a,e.params[a]);e.params=t;break}if("POST"===e.method.toLocaleUpperCase()||"PUT"===e.method.toLocaleUpperCase()||"DELETE"===e.method.toLocaleUpperCase()||"OPTIONS"===e.method.toLocaleUpperCase()){for(var o in e.data){if(e.data[o]instanceof File){var r=new FormData;for(var u in e.data)r.append(u,e.data[u]);e.data=r;break}if(e.data[o]instanceof Array){var c=new URLSearchParams;for(var d in e.data)c.append(d,e.data[d]);e.data=c;break}}e.data instanceof URLSearchParams||e.data instanceof FormData||(e.data=N.a.stringify(e.data))}return null!==window.sessionStorage.getItem("token")&&(e.headers.token=window.sessionStorage.getItem("token")),console.log("config",e),e}),(function(e){return Promise.error(e)}));var q=M.a.create({baseURL:M.a.defaults.baseURL,timeout:3e5,headers:{"Content-Type":"application/json",token:window.sessionStorage.getItem("refreshToken")}}),B=!1,z=[];M.a.interceptors.response.use((function(e){if(401===e.data.meta.status){var n=e.config;return B?new Promise((function(e){z.push((function(t){n.headers["token"]=t,e(q(n))}))})).then((function(e){return e.data})):(B=!0,H().then((function(e){var t=e.data,a=t.token,o=t.refreshToken;return 401===e.meta.status&&(window.location.href="/login"),window.sessionStorage.setItem("token",a),window.sessionStorage.setItem("refreshToken",o),z.forEach((function(e){return e(a)})),z=[],new Promise((function(e){n.headers["token"]=a,e(q(n))})).then((function(e){return e.data}))})).catch((function(e){window.location.href="/login"})).finally((function(){B=!1})))}return e.data}),(function(e){if(e&&e.response)return e.response.data;var n={meta:{msg:"连接服务器失败",status:503},data:{}};return n})),a["default"].prototype.$http=M.a;t("0fae"),t("55e3");a["default"].use(L.a),new a["default"]({el:"#app",router:l,store:F,render:function(e){return e(s)}})},"85ec":function(e,n,t){},ce68:function(e,n,t){var a={"./":["6e78","chunk-2d0daf06"],"./common/403":["e389","chunk-1765a0d6"],"./common/403.vue":["e389","chunk-1765a0d6"],"./common/404":["3a1b","chunk-d39fc872"],"./common/404.vue":["3a1b","chunk-d39fc872"],"./common/Footer":["cdaa","chunk-26a10e75"],"./common/Footer.vue":["cdaa","chunk-26a10e75"],"./common/Header":["cff1","chunk-3f247555","chunk-d513298e"],"./common/Header.vue":["cff1","chunk-3f247555","chunk-d513298e"],"./common/Home":["bfe9","chunk-3f247555","chunk-7a163d7f"],"./common/Home.vue":["bfe9","chunk-3f247555","chunk-7a163d7f"],"./common/Sidebar":["a315","chunk-031f5718"],"./common/Sidebar.vue":["a315","chunk-031f5718"],"./common/Tags":["3275","chunk-8620fe80"],"./common/Tags.vue":["3275","chunk-8620fe80"],"./common/bus":["7ed4","chunk-2d0e28d4"],"./common/bus.js":["7ed4","chunk-2d0e28d4"],"./index":["6e78","chunk-2d0daf06"],"./index.vue":["6e78","chunk-2d0daf06"],"./login":["1954","chunk-3f247555","chunk-d8a61a3a"],"./login.vue":["1954","chunk-3f247555","chunk-d8a61a3a"],"./rjgl/rjxz":["95f0","chunk-0c1d3d1f"],"./rjgl/rjxz.vue":["95f0","chunk-0c1d3d1f"],"./system/logs":["19c7","chunk-7e7d8b9f","chunk-5ad4de5d"],"./system/logs.vue":["19c7","chunk-7e7d8b9f","chunk-5ad4de5d"],"./system/menus":["35c7","chunk-7e7d8b9f","chunk-2d0ba30c"],"./system/menus.vue":["35c7","chunk-7e7d8b9f","chunk-2d0ba30c"],"./system/roles":["3724","chunk-31edd3c2"],"./system/roles.vue":["3724","chunk-31edd3c2"],"./system/users":["bd68","chunk-3f247555","chunk-fc6d1168"],"./system/users.vue":["bd68","chunk-3f247555","chunk-fc6d1168"]};function o(e){if(!t.o(a,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=a[e],o=n[0];return Promise.all(n.slice(1).map(t.e)).then((function(){return t(o)}))}o.keys=function(){return Object.keys(a)},o.id="ce68",e.exports=o}});
//# sourceMappingURL=app.5557cb43.js.map