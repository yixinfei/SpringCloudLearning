(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d8a61a3a"],{1954:function(e,r,o){"use strict";o.r(r);var t=function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("div",{staticClass:"login_wrapper"},[o("div",{staticClass:"login"},[o("el-form",{attrs:{model:e.formLogin}},[o("el-form-item",[o("h2",{staticClass:"title"},[e._v("后台管理系统")])]),o("el-form-item",[o("el-input",{attrs:{placeholder:"账号"},model:{value:e.formLogin.account,callback:function(r){e.$set(e.formLogin,"account",r)},expression:"formLogin.account"}})],1),o("el-form-item",[o("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:e.formLogin.password,callback:function(r){e.$set(e.formLogin,"password",r)},expression:"formLogin.password"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("登陆")]),o("span",{directives:[{name:"show",rawName:"v-show",value:this.errorInfo.isShowError,expression:"this.errorInfo.isShowError"}],staticClass:"error"},[e._v(e._s(this.errorInfo.text))])],1)],1)],1)])},n=[],s=(o("96cf"),o("1da1")),a=o("9e7a"),i={name:"login",data:function(){return{formLogin:{account:"admin",password:"1234"},errorInfo:{text:"登陆失败,请重试",isShowError:!1}}},mounted:function(){var e=arguments,r=this;document.onkeydown=function(o){var t=o||window.event||e.callee.caller.arguments[0];t&&13==t.keyCode&&"/login"==r.$route.path&&r.login()}},methods:{login:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var o,t,n,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.formLogin.account){r.next=3;break}return e.$message.error("请输入账号"),r.abrupt("return");case 3:if(e.formLogin.password){r.next=6;break}return e.$message.error("请输入密码"),r.abrupt("return");case 6:return o=Object(a["a"])(e.formLogin.password),r.next=9,e.$http.post("/login",{account:e.formLogin.account,password:o});case 9:if(t=r.sent,console.log("hhe:",t),n=t.meta,s=n.status,i=n.msg,200==s){r.next=16;break}return e.errorInfo.isShowError=!0,e.$message.error(i),r.abrupt("return",!1);case 16:e.$message.success(i),console.log("进入",t.data),window.sessionStorage.setItem("token",t.data.user.token),window.sessionStorage.setItem("refreshToken",t.data.user.refreshToken),e.$store.commit("add_User",t.data.user),e.$store.commit("add_Menus",t.data.menus),e.$store.commit("add_Routes",t.data.routes),e.$store.commit("add_Roles",t.data.roles),e.$router.push("/index");case 25:case"end":return r.stop()}}),r)})))()}}},c=i,u=(o("5571"),o("2877")),l=Object(u["a"])(c,t,n,!1,null,null,null);r["default"]=l.exports},5571:function(e,r,o){"use strict";var t=o("62dc"),n=o.n(t);n.a},"62dc":function(e,r,o){}}]);
//# sourceMappingURL=chunk-d8a61a3a.d42216a6.js.map